<canvas id="z" width=400 height=400><script>a='fillStyle';b='fillRect';c=z.getContext('2d');c.font="20px Arial";function d(e){if(e){f=[0];g=h=2}j=~~(k*Math.random());l=0}d(k=400);document.onkeydown=function(m){n=m.which;if(36<n&n<41&h%2==n%2){g=n-37}if(l&n==32){d(1)}};setInterval(function(){c[a]="#cfb";c[b](0,0,k,k);c[a]="#444";if(l){c.fillText("Game Over! Press Space to start",50,160)}else{h=g;f.unshift(o=f[0]-[1,q=20,-1,-q][h]);f.pop();if(o==j){f.push(d())}for(i in f){p=f[i];if(i>0&o==p){l=1}c[b](p%q*q,~~(p/q)*q,r=19,r)}s=o%q-h;if(o<0|o>k|!(h%2|s!=-2&s!=r)){l=1}c[a]="#f01";c[b](j%q*q,~~(j/q)*q,r,r)}},99);</script>